<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"] - Document Management System</title>
    <link rel="stylesheet" href="~/css/admindashboard.css" asp-append-version="true" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="~/css/adduserpage.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/allusertable.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/adminFiles.css" asp-append-version="true" />
    <!-- Toastr CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
</head>
<body>
    <div class="dashboard">
        <!-- Sidebar -->
        <div class="dashboard-nav">
            <header class="sidebar-header">
                <div class="logo-container">
                    <img src="~/src/TCU-logo.png" alt="TCU Dms Logo" class="logo-img"
                         onerror="this.style.display='none'; this.insertAdjacentHTML('afterend', '<span>TCU Dms</span>');">
                    <div class="logo-text">TCU DMS</div>
                </div>
            </header>
            <div class="container">
                <nav class="dashboard-nav-list">
                    <a href="AdminDashboard" class="dashboard-nav-item">
                        <i class="fas fa-home"></i> Admin Dashboard
                    </a>

                    <!-- Manage Document Dropdown -->
                    <div class="dashboard-nav-dropdown">
                        <div class="dashboard-nav-item dashboard-nav-dropdown-toggle">
                            <i class="fas fa-file"></i> <span class="dropdown-title">Manage Document</span>
                            <span class="arrow-icon-container">
                                <svg xmlns="http://www.w3.org/2000/svg" class="arrow-icon" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M6 9l6 6 6-6"></path>
                                </svg>
                            </span>
                        </div>
                        <div class="dashboard-nav-dropdown-menu">
                            <a href="AdminFileFolder" class="dashboard-nav-dropdown-item">File Folder</a>
                        </div>
                    </div>

                    <a href="AdminAssignTask" class="dashboard-nav-item">
                        <i class="fas fa-pen"></i> Assign Task
                    </a>

                    @if (User.IsInRole("Admin"))
                    {
                        <a href="AdminAssignFolder" class="dashboard-nav-item"><i class="fas fa-folder"></i> Assign Folders</a>
                    }

                    <!-- Manage Users Dropdown -->
                    <div class="dashboard-nav-dropdown">
                        <div class="dashboard-nav-item dashboard-nav-dropdown-toggle">
                            <i class="fas fa-users"></i> <span class="dropdown-title">Manage Users</span>
                            <span class="arrow-icon-container">
                                <svg xmlns="http://www.w3.org/2000/svg" class="arrow-icon" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M6 9l6 6 6-6"></path>
                                </svg>
                            </span>
                        </div>
                        <div class="dashboard-nav-dropdown-menu">
                            @if (User.IsInRole("Admin"))
                             {
                                <a href="AdminUserTable" class="dashboard-nav-dropdown-item">Users Table</a>
                            <a asp-page="/AdminPage/AdminAddUser" class="dashboard-nav-dropdown-item">Add New User</a>
                             }
                        </div>
                    </div>

                    <a asp-page="/Index" asp-page-handler="Logout" class="dashboard-nav-item">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </a>

                </nav>
            </div>

        </div>

        <!-- Main App -->
        <div class="dashboard-app">
            <header class="dashboard-toolbar">
                <a href="#!" class="menu-toggle"><i class="fas fa-bars"></i></a>
            </header>

            <div class="dashboard-content">
                <div class="container">
                    @RenderBody()
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="~/js/adminToggle.js"></script>

    @RenderSection("Scripts", required: false)

</body>
</html>
